<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>
        API测试页面
    </title>
    <script src="js/jquery-1.7.1.min.js">
    </script>

</head>
<body>

    <h3>商品分类管理</h3>
    <input type="button" id="addClassify" value="添加分类">
    <input type="button" id="addSubClassify" value="添加次级分类">
    <input type="button" id="delClassify" value="删除分类">
    <input type="button" id="queryClassify" value="查询所有分类">
    <input type="button" id="querySubClassify" value="查询次级分类">
    <input type="button" id="queryActivityClassify" value="查询该分类下的末级分类（在此分类下才可添加商品）">
    <hr />

    <h3>分类参数管理</h3>
    <input type="button" id="addParameter" value="添加分类参数">
    <input type="button" id="addParameterVaule" value="添加分类参数值">
    <input type="button" id="addProductParameterVaule" value="绑定商品分类参数值">
    <input type="button" id="delParameter" value="删除分类参数">
    <input type="button" id="delParameterVaule" value="删除分类参数值">
    <input type="button" id="getParameter" value="根据分类查询分类参数">
    <input type="button" id="getParameterVaule" value="根据分类查参数值">
    <hr />

    <h3>品牌项目管理</h3>
    <input type="button" id="addProductBrand" value="添加品牌项目">
    <input type="button" id="addProductBrandParameter" value="添加品牌项目参数值">
    <input type="button" id="getAllBrand" value="查询所有品牌项目">
    <input type="button" id="getBrandParameterByBrand" value="查询品牌项目参数值">
    <hr />

    <h3>商品管理</h3>
    <input type="button" id="addProduct" value="添加商品">
    <input type="button" id="delProduct" value="删除商品">
    <input type="button" id="getAllProducts" value="查询所有商品列表">
    <input type="button" id="getProductById" value="根据ID查询商品">
    <input type="button" id="getProductsByBrand" value="根据品牌项目查询商品列表">
    <input type="button" id="getProductsByClassify" value="根据分类查询商品列表">
    <input type="button" id="getAllParameterValueByProduct" value="查询该商品的商品分类参数值">
    <input type="button" id="editProductStatus" value="商品上下架状态更改">
    <input type="button" id="editProductStockrule" value="商品库存更改">
    <hr />

    <h3>订单管理</h3>
    <input type="button" id="addRecommonOrder" value="生成推荐订单">
    <input type="button" id="addDealOrder" value="生成成交订单">
    <input type="button" id="editOrderShipstatus" value="修改订单流程状态">
    <input type="button" id="editOrderStatus" value="修改订单推送状态">
    <input type="button" id="getAllRecommonOrders" value="查询所有推荐订单">
    <input type="button" id="getAllDealOrders" value="查询所有成交订单">
    <input type="button" id="getOrdersByStatus" value="按审核结果查询订单">
    <hr />

    <h3>账单管理</h3>
    <input type="button" id="createBillsByOrder" value="生成三个账单">
</body>
</html>
<!--商品分类操作-->
<script>
    $(function () {
        //添加分类；
        $('#addClassify').click(function () {
            var cla = {
                ClassifyId: 0,
                Name: '0',
                Sort: 2,
                Adduser: '214',
                Upduser: '33'
            };
            var classifyJson = JSON.stringify(cla);
            $.ajax({
                url: "http://localhost:50597/api/Classify/AddClassify",
                type: "post",
                data: classifyJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //添加次级分类；
        $('#addSubClassify').click(function () {
            var cla = {
                ClassifyId:3,
                Name: '32',
                Sort: 2,
                Adduser: '214',
                Upduser: '33'
            };
            var classifyJson = JSON.stringify(cla);
            $.ajax({
                url: "http://localhost:50597/api/Classify/AddClassify",
                type: "post",
                data: classifyJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        }); 
        //查询所有分类；
        $('#queryClassify').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/GetAllClassify",
                type: "get",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //查询次级分类；
        $('#querySubClassify').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/GetSubClassify",
                type: "get",
                data: { "classifyId": "1", "pageindex": "0" },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //查询该分类下的末级分类（在此分类下才可添加商品）；
        $('#queryActivityClassify').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/GetActivityClassify",
                type: "get",
                data: { classifyId: 1},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
    })
</script>

<!--商品分类参数操作-->
<script>
    $(function () {
        //添加分类参数；
        $('#addParameter').click(function () {
            var par = {
                ClassifyId: 1,
                Name: '颜色',
                Sort: 2,
                Adduser: 'jiadou',
                Upduser: 'jiadou'
            };
            var parJson = JSON.stringify(par);
            $.ajax({
                url: "http://localhost:50597/api/Classify/AddParameter",
                type: "post",
                data: parJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //添加分类参数值；
        $('#addParameterVaule').click(function () {
            var parValue = {
                ParameterId: 1,
                Parametervalue: '红色',
                Sort: 0,
                Adduser: 'jiadou',
                Upduser: 'jiadou'
            };
            var parValueJson = JSON.stringify(parValue);
            $.ajax({
                url: "http://localhost:50597/api/Classify/AddParameterValue",
                type: "post",
                data: parValueJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });

        //绑定商品分类参数值；
        $('#addProductParameterVaule').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/AddProductParameterVaule",
                type: "get",
                data: { parameterValueId: 1 ,productId:1},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //删除分类参数；
        $('#delParameter').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/DelParameter",
                type: "get",
                data: { 'parameterId': 1 },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //删除分类参数值；
        $('#delParameterVaule').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/DelParameterValue",
                type: "get",
                data: { 'parameterValueId': 2 },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //根据分类查询分类参数；
        $('#getParameter').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/GetParameterByClassify",
                type: "get",
                data: { 'classifyId': 1},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //根据分类查参数值；
        $('#getParameterVaule').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Classify/GetParameterValueByParameter",
                type: "get",
                data: { 'parameterId': 1},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
    })
</script>

<!--品牌项目操作-->
<script>
    $(function () {
        //添加品牌项目；
        $('#addProductBrand').click(function () {
            var pb = {
                Bname: '水云间项目',
                Bimg: 'http://c.hiphotos.baidu.com/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=a5c0d98299504fc2b652b85784b48c74/d833c895d143ad4b5bfd134a80025aafa50f066c.jpg',
                Adduser: 2,
                Upduser: 'jiadou'
            };
            var pdJson = JSON.stringify(pb);
            $.ajax({
                url: "http://localhost:50597/api/Brand/AddProductBrand",
                type: "post",
                data: pdJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //添加品牌项目值；
        $('#addProductBrandParameter').click(function () {
            var pbv = {
                ProductBrandId: 1,
                Sort: 'http://www.baidu.com',
                Parametername: '大小',
                Parametervaule: "100m",
                Adduser: 2,
                Upduser: 'jiadou'
            };
            var pbvJson = JSON.stringify(pbv);
            $.ajax({
                url: "http://localhost:50597/api/Brand/AddProductBrandParameter",
                type: "post",
                data: pbvJson,
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //查询所有品牌项目；
        $('#getAllBrand').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Brand/GetAllBrand",
                type: "get",
                data: { 'pageindex': 0 },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
        //跟据品牌项目获取参数；
        $('#getBrandParameterByBrand').click(function () {
            $.ajax({
                url: "http://localhost:50597/api/Brand/GetBrandParameterByBrand",
                type: "get",
                data: { 'ProductBrandId': 1},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            })
        });
    })
</script>

<!--商品添加删除-->
<script>
    //添加商品；
    $('#addProduct').click(function () {
        var product = {
            ClassifyId: 3,// 平台商品分类ID
            ProductBrandId: 1,// 品牌ID
            Commission: 99.98,//佣金
            Dealcommission:200,//成交佣金；
            Price:8888.99,//价格；
            BussnessId: 1,// 商家ID
            Status: true,// 商品上架状态
            Recommend: false,// 商家推荐标识
            Sort: 1,// 分类排序
            Stockrule: 100,// 库存计数（拍下、付款）
        };
        var productDetail = {
            Productname: "苹果",// 商品名称
            Productdetail: "这是一个苹果详情",// 商品明细(5000字富文本编辑)
            Productimg: "img_url",// 商品图片（主图）
            Productimg1: "img_url_1",// 商品附图1
            Productimg2: "img_url_2",// 商品附图2
            Productimg3: "img_url_3",// 商品附图3
            Productimg4: "img_url_4",// 商品附图4
            Sericeinstruction: "售后说明",// 售后说明
            Adduser: "UserId",
            Upduser: "UserId",
        };
        $.ajax({
            url: "http://localhost:50597/api/Product/AddProduct",
            type: "post",
            data: JSON.stringify({ product: product, productDetail: productDetail }),
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

    //删除商品；
    $('#delProduct').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/delProduct",
            type: "get",
            data: { productId: 2 },
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

</script>

<!--商品查询-->
<script>
    //查询所有商品；
    $('#getAllProducts').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/GetAllProduct",
            type: "get",
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

    //根据ID查询商品；
    $('#getProductById').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/GetProductById",
            type: "get",
            data: { productId: 1 },
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

    //根据品牌项目获取商品列表；
    $('#getProductsByBrand').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/GetProductsByBrand",
            type: "get",
            data: { BrandId: 1 },
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
    //根据分类获取产品列表；
    $('#getProductsByClassify').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/GetProductsByClassify",
            type: "get",
            data: { ClassifyId: 1},
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
    //根据商品查找其分类参数值；
    $('#getAllParameterValueByProduct').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/GetAllParameterValueByProduct",
            type: "get",
            data: { productId: 1},
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
</script>

<!--商品编辑更新-->
<script>
    //更新商品上架状态；
    $('#editProductStatus').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/EditProductStatus",
            type: "get",
            data: { productId: 1 ,status:false},
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
    //更新商品库存数量；
    $('#editProductStockrule').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/Product/EditProductStockrule",
            type: "get",
            data: { productId: 1, stock: 122 },
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
</script>

<!--订单生成修改-->
<script>
    //订单推送（Status）：0：未审核；
    //                    1：审核未通过；
    //                    2: 审核已通过；
    //订单类型（OrderType）：0：推荐订单；
                //          1：成交订单；
    //订单状态(Shipstatus)：0：未看房（推荐）；
                //          1：已预约（推荐）；
                //          2：已看房（推荐）；
                //          3：已付佣金（推荐）；
                //          4：已买房（成交）；
                //          5：已付佣金（成交）

    //生成推荐订单；
    $('#addRecommonOrder').click(function () {
        var orderDetail = {
            ProductId: 1,
            Remark: "remark",
            Snapshoturl: "snapurl",
            Adduser: 'jiadou',
            Upduser: 'jiadou'
        };
        var order = {
            AgentId: 11,
            Agentname: "agentname",
            Agenttel: '18788480955',
            BusId: 1,
            Busname: 'busname',
            Customname: 'customname',
            Ordertype: 0,//订单类型
            Remark: 'remark',
            Shipstatus: 0,
            Status: 0,//订单状态;
            Adduser: 'jiadou',
            Upduser: 'jiadou'
        };
        $.ajax({
            url: "http://localhost:50597/api/order/AddRecommonOrder",
            type: "post",
            data: JSON.stringify({ orderDetail: orderDetail, order: order }),
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

    //生成推荐订单；
    $('#addDealOrder').click(function () {
        var orderDetail = {
            ProductId: 1,
            Remark: "remark",
            Snapshoturl: "snapurl",
            Adduser: 'jiadou',
            Upduser: 'jiadou'
        };
        var order = {
            AgentId: 11,
            Agentname: "agentname",
            Agenttel: '18788480955',
            BusId: 1,
            Busname: 'busname',
            Customname: 'customname',
            Ordertype: 1,//订单类型
            Remark: 'remark',
            Shipstatus: 1,//订单流程状态
            Status: 0,//订单状态;
            Adduser: 'jiadou',
            Upduser: 'jiadou'
        };
        $.ajax({
            url: "http://localhost:50597/api/order/AddRecommonOrder",
            type: "post",
            data: JSON.stringify({ orderDetail: orderDetail, order: order }),
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });

    //修改订单流程状态
    $('#editOrderShipstatus').click(function () {
        $.ajax(
            {
                url: "http://localhost:50597/api/order/EditOrderShipstatus",
                type: "get",
                data: { orderId:1,shipStatus:0},
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            });
    });

    //修改订单流程状态
    $('#editOrderStatus').click(function () {
        $.ajax(
            {
                url: "http://localhost:50597/api/order/EditOrderStatus",
                type: "get",
                data: { orderId: 1, status: 0 },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            });
    });
</script>

<!--订单查询-->
<script>
    //查询所有推荐订单
    $('#getAllRecommonOrders').click(function () {
        $.ajax(
            {
                url: "http://localhost:50597/api/order/getAllRecommonOrders",
                type: "get",
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            });
    });
    //查询所有成交订单
    $('#getAllDealOrders').click(function () {
        $.ajax(
            {
                url: "http://localhost:50597/api/order/getAllDealOrders",
                type: "get",
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            });
    });
    //按审核结果查询订单
    $('#getOrdersByStatus').click(function () {
        $.ajax(
            {
                url: "http://localhost:50597/api/order/getOrdersByStatus",
                type: "get",
                data: { status:1 },
                contentType: "application/json",
                success: function (data) {
                    console.log(data);
                    alert(data);
                }
            });
    });
</script>

<!--账单管理-->
<script>
    $('#createBillsByOrder').click(function () {
        $.ajax({
            url: "http://localhost:50597/api/bill/CreateBillsByOrder",
            type: "get",
            data: { orderId: 1, beneficiarynumber: "2623584236324353", remark:"这是账单",user:"jiadou-yoopoon"},
            contentType: "application/json",
            success: function (data) {
                console.log(data);
                alert(data);
            }
        });
    });
    </script>