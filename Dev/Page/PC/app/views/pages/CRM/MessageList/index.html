<!--黄秀宇 短信  2015.05.06
自加CSS,路径<link rel="stylesheet" href="styles/task.css" type="text/css" />-->
<div class="marginL" ng-controller="MessageSeachController">
    <div id="divhea" ng-app="app" >
        <!--<input type="text" class="form-control" placeholder="开始时间">-->
        <!--<div ng-controller="DatepickerDemoCtrl" class="m-b-lg">
            <div class="m-b">-->
        <div class="m-b-lg">
            <div class="row">
                <div class="col-md-4">
                    <label  style="float: left;margin: 8px 10px 0 0">开始时间</label>
                    <span class="input-group">
                        <input type="text" readonly  class="form-control" style="width: 200px"  datepicker-popup="{{format}}" date-format="{{format}}" ng-model="searchCondition.startTime" is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                        <span class="input-group-btn" style="float: left">
                            <button type="button" style="float: left" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </span>
                </div>

        <!--<input type="text" class="form-control" placeholder="结束时间">-->


                <div class="col-md-4">
                    <label style="float: left;margin: 8px 10px 0 0">结束时间</label>
                    <span class="input-group">
                        <input type="text" readonly class="form-control" style="width: 200px" datepicker-popup="{{endformat}}" ng-model="searchCondition.endTime" is-open="endopened" datepicker-options="enddateOptions" ng-required="true" close-text="Close" />
                        <span class="input-group-btn" style="float: left">
                            <button type="button" style="float: left" class="btn btn-default" ng-click="endtimeopen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </span>
                </div>
                <div class="col-md-4">
                    <label style="float: left;margin: 8px 10px 0 0">短信类型</label>
                    <select class="form-control" style="width: 40%" name="Title" placeholder="请选择模板标题" ng-model="searchCondition.type">
                        <option ng-repeat="item in listtype" value="{{item}}">{{item}}</option>
                    </select>


                    <button md-ink-ripple="" class="md-btn md-raised m-b btn-fw blue" ng-click="getData()">检索</button>

                </div>
                <div style="margin-left: 15px"> 短信平台可用短信数量：<span style="color: red" >{{SMSCounts}}</span>条</div>
            </div>
        </div>

    </div>

    <div id="divSet" ng-app="app" >
        <table class="table m-b-none footable-loaded footable default" ui-jp="footable" data-filter="#filter" data-page-size="5">
            <thead class="divheard">
                <tr>
                    <th ng-click="getData('OrderById')" data-toggle="true" class="footable-visible footable-sortable footable-first-column">
                        ID
                        <span class="fa {{UpOrDownImgClass}}"></span>
                    </th>
                    <th ng-click="getData('OrderByTitle')" class="footable-visible footable-sortable footable-sorted-desc">
                        标题
                        <span class="fa {{UpOrDownImgClass}}"></span>
                    </th>
                    <th ng-click="getData('OrderByContent')" data-hide="phone,tablet" class="footable-sortable footable-visible" style="display: table-cell;">
                        发送内容
                        <span class="fa {{UpOrDownImgClass}}"></span>                    </th>

                    <th ng-click="getData('OrderByMobile')" data-hide="phone" class="footable-visible footable-sortable footable-last-column">
                        发送号码
                        <span class="fa {{UpOrDownImgClass}}"></span>                    </th>

                    <th ng-click="getData('OrderByAddtime')" data-hide="phone" class="footable-visible footable-sortable footable-last-column">
                        发送时间
                        <span class="fa {{UpOrDownImgClass}}"></span>                    </th>
                </tr>
            </thead>
            <tbody>

                <tr class="footable-odd" style="display: table-row;" ng-repeat="item in list">
                    <td class="footable-visible footable-first-column"><span class="footable-toggle"></span>{{item.Id}}</td>
                    <td class="footable-visible">{{item.Title}}</td>
                    <td class="footable-visible">{{item.Content}}</td>

                    <td class="footable-visible">{{item.Mobile}}</td>
                    <td class="footable-visible">{{item.Addtime | dateFilter }}</td>
                </tr>


            </tbody>

        </table>

        <div colspan="5" class="text-center footable-visible">
            <pagination boundary-links="true" total-items="totalCount" items-per-page="searchCondition.pageSize" ng-model="searchCondition.page" ng-change="getData()" class="m-t-none m-b" previous-text="‹" next-text="›" first-text="«" last-text="»"></pagination>
        </div>

    </div>


    <div id="divTaskA" class="marginL">
        <div class="taska bord">
            <p style="height:30px"></p>
            <p>发送主题<input class="ptaska  bordhtml form-control" type="text" placeholder="发送主题"></p>
            <p>发送内容<input class="ptaska bordhtml form-control" type="text" placeholder="发送内容"></p>
            <p>接收人名<input class="ptaska  bordhtml form-control" type="text" placeholder="接收人"></p>
            <p>手机号码<input class="ptaska bordhtml form-control" type="text" placeholder="手机号"></p>

            <div style="text-align:center;width:500px;margin-left:150px;margin-top:30px;">
                <button md-ink-ripple="" class="md-btn md-raised m-b btn-fw blue">发送</button>
                <button md-ink-ripple="" onclick="backAdd()" style="margin-left:40px;" class="md-btn md-raised m-b btn-fw blue">返回</button>
            </div>
            <p style="height:80px"></p>
        </div>
    </div>
</div>
<script type="text/javascript">
    document.getElementById("divTaskA").style.display = "none";
    function settingAdd() {
        document.getElementById("divTaskA").style.display = "";
        document.getElementById("divSet").style.display = "none";
        document.getElementById("divhea").style.display = "none";

    }
    function backAdd() {
        document.getElementById("divTaskA").style.display = "none";
        document.getElementById("divSet").style.display = "";
        document.getElementById("divhea").style.display = "";

    }
</script>
