<!--黄秀宇 任务列表  2015.05.06
自加CSS路径<link rel="stylesheet" href="styles/task.css" type="text/css"
/>angular.js路径app/scrips/controller/CRM/taskList.js-->

<div ng-controller="taskIndexController">
<div id="divTaskH"class="marginL">
    <input id="type1" onkeydown=' var keynum;
        keynum = window.event ? event.keyCode : event.which;if(keynum==13){uc.click()}' style="width:20%;" type="text"ng-model="searchCondition.Taskname" maxlength="30"  class="form-control bordhtml" placeholder="任务名称">

    <button md-ink-ripple=""ng-click="getList()" class=" md-btn md-raised m-b btn-fw indigo"id="uc">搜索</button>
    <a href="#page/CRM/TaskList/createTask">  <button id="btntask" md-ink-ripple=""style="width:150px;margin-left: 10%;" class="md-btn md-raised m-b btn-fw indigo">添加新任务</button></a>

</div>

<div id="divTaskL"class="marginL">
    <!--表头-->
    <div >

        <table class="table table-striped m-b-none tablet breakpoint footable-loaded footable" ui-jp="footable" data-filter="#filter" data-page-size="5">
            <thead>
            <tr>
                <th ng-click="getList('OrderByTaskname')" data-toggle="true" class="footable-visible footable-sortable ">
                    任务名称<span class="fa {{OrderByTaskname}}"></span></th>
                <th   data-hide="phone" class="footable-visible footable-last-column footable-sortable"ng-click="getList('OrderByName')">
                    任务类型<span class="fa {{OrderByName}}"></span></th>
                <th  data-hide="phone" class="footable-visible footable-last-column footable-sortable"ng-click="getList('OrderByEndtime')">
                    结束时间<span class="fa {{OrderByEndtime}}"></span> </th>

                <th   data-hide="phone" class="footable-visible footable-last-column footable-sortable"ng-click="getList('OrderByAdduser')">
                创建人<span class="fa {{OrderByAdduser}}"></span></th>
                <th   data-hide="phone" class="footable-visible footable-last-column footable-sortable">操作
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in list">
                <td >{{item.Taskname}}</td>
                <td >{{item.Name}}</td>
                <td >{{item.Endtime}}</td>
                <td >{{item.Adduser}}</td>
                <td class="col-3" >
                    <a href="#page/CRM/TaskList/taskList?id={{item.Id}}" class="btn btn-info btn-sm"><span  title="Active">列表</span></a>
                    <a href="#page/CRM/TaskList/taskDetail?id={{ item.Id}}" class="btn btn-info btn-sm"><span  title="Active">详情</span></a>
                    <span class="btn btn-info btn-sm"><a ng-click="delTask(item.Id)" tabindex="0">删除</a></span>
                </td>

            </tr>
            <!--<tr>-->
                <!--<td class="text-center" colspan="4">{{errorTip}}</td>-->
            <!--</tr>-->
            </tbody>

        </table>

    </div>
    <!--列表内容-->

    <div  ng-show="visibleif" style="text-align: center"  class="text-center footable-visible ng-scope">
        <pagination boundary-links="true" total-items="searchCondition.totalCount" items-per-page="searchCondition.pageSize" ng-model="searchCondition.page" ng-change="getList()" class="m-t-none m-b" previous-text="‹" next-text="›" first-text="«" last-text="»"></pagination>

    </div>
    <div ng-bind="tips" style=" font-size:20px;  line-height: 100px;text-align: center;" ></div>

</div>

    <script type="text/ng-template" id="myModalContent.html">
        <div ng-include="'views/partials/modal.html'"></div>
    </script>
</div>


