package com.yoopoon.home.data.json;

import android.os.AsyncTask;

import java.util.concurrent.TimeUnit;

public abstract class Parser extends AsyncTask<Void, Void,Boolean> {

    public interface ParseListener {
        public void onComplete(Parser parser, boolean parseResult);
    }

    private final ParseListener mParseListener;
    private final String mJsonString;
    private Class<?> mClass;

    protected Parser(ParseListener parseListener, String jsonString) {
        mParseListener = parseListener;
        mJsonString = jsonString;
    }

    @Override
    protected Boolean doInBackground(Void... params) {
        
        return parse(mJsonString,mClass);
    }

    @Override
    protected void onPostExecute(Boolean parseResult) {
        mParseListener.onComplete(this, parseResult);
    }

    protected abstract boolean parse(String json,Class<?> mClass);
}
