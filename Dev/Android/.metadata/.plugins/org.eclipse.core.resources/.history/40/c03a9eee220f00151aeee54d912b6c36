package com.yoopoon.home.data.storage;

import java.io.File;

import android.os.Environment;


/**
 * ç¼“å­˜è·¯å¾„å¯¹è±¡
 * ç”¨äºå¤„ç†æœ¬åœ°è·¯å¾„çš„åç§°åŠå±‚çº§è§„åˆ™
 * åŒæ—¶åŒ…å«äº†éƒ¨åˆ†é…ç½®æ–‡ä»¶çš„åç§°å’Œè·¯å¾?
 * <p/>
 * 
 */
public class LocalPath {
	/* è·¯å¾„é…ç½® */
	// åº”ç”¨ç¨‹åºåŸºç¡€ç›®å½•
	private static final String APP_BASE_DIR = "yunjoy";
	// æœ¬åœ°ç¼“å­˜åŸºç¡€ç›®å½•
	private static final String CACHE_BASE_DIR = "cache";
	// æœ¬åœ°ä¸´æ—¶ç¼“å­˜åŸºç¡€ç›®å½•
	private static final String TEMP_CACHE_BASE_DIR = "temp";
	// æœ¬åœ°è®¾ç½®åŸºç¡€ç›®å½•
	private static final String CONFIG_BASE_DIR = "config";
	// æœ¬åœ°å…¨å±€è®¾ç½®æ•°æ®åº“æ–‡ä»¶åç§?
	private static final String CONFIG_DB_FILE_NAME = "config.db";
	// ç”¨æˆ·ç¼“å­˜æ•°æ®åº“åŸºç¡?ç›®å½•
	private static final String USER_CACHE_DB_BASE_DIR = "database";
	// ç”¨æˆ·ç¼“å­˜æ•°æ®åº“æ–‡ä»¶åç§?
	public static final String USER_CACHE_DB_FILE_NAME = "cache.db";
	// ç”¨æˆ·ç¼“å­˜æ–‡æ¡£åŸºç¡€ç›®å½•
	private static final String USER_CACHE_DOC_BASE_DIR = "doc";
	// åº”ç”¨ç¨‹åºåŸºç¡€è·¯å¾„ï¼Œæ˜¯æ‰?æœ‰æœ¬åœ°æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	public String appBasePath = null;
	// æœ¬åœ°ç¼“å­˜åŸºç¡€è·¯å¾„ï¼Œæ˜¯æ‰?æœ‰ç¼“å­˜æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	public String cacheBasePath = null;
	// æœ¬åœ°ä¸´æ—¶ç¼“å­˜åŸºç¡€è·¯å¾„ï¼Œæ˜¯æ‰?æœ‰ä¸´æ—¶ç¼“å­˜æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	public String tempCacheBasePath = null;
	// æœ¬åœ°è®¾ç½®åŸºç¡€è·¯å¾„ï¼Œæ˜¯æ‰?æœ‰è®¾ç½®æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	public String configBasePath = null;
	// æœ¬åœ°å…¨å±€è®¾ç½®æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼Œæ˜¯æ‰€æœ‰æœ¬åœ°å…¨å±?è®¾ç½®æ•°æ®åº“æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
	public String configDatabaseFilePath = null;
	// ç”¨æˆ·ç¼“å­˜åŸºç¡€è·¯å¾„ï¼Œæ˜¯ç‰¹å®šç”¨æˆ·æ‰?æœ‰ç¼“å­˜æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	// æ³¨æ„ï¼?
	//   ç”±äºä¸šåŠ¡ä¸Šå­˜åœ¨ä¼ä¸šåˆ‡æ¢ï¼Œæ‰?ä»¥ç”¨æˆ·ç¼“å­˜åŸºç¡?è·¯å¾„ç”±å•ä½å’Œç”¨æˆ·æ„æˆ
	//   åœ¨åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯åæœ‰æ•?
	public String userCacheBasePath = null;
	// ç”¨æˆ·ç¼“å­˜æ•°æ®åº“åŸºç¡?è·¯å¾„ï¼Œæ˜¯ç‰¹å®šç”¨æˆ·æ‰?æœ‰æ•°æ®åº“ç¼“å­˜æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš?'/'
	// æ³¨æ„ï¼?
	//   åœ¨åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯åæœ‰æ•?
	public String userCacheDatabaseBasePath = null;
	// ç”¨æˆ·ç¼“å­˜æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼Œæ˜¯ç‰¹å®šç”¨æˆ·æ•°æ®åº“ç¼“å­˜æ–‡ä»¶çš„å®Œæ•´è·¯å¾?
	// æ³¨æ„ï¼?
	//   åœ¨åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯åæœ‰æ•?
	public String userCacheDatabaseFilePath = null;
	// ç”¨æˆ·ç¼“å­˜æ–‡æ¡£åŸºç¡€è·¯å¾„ï¼Œæ˜¯ç‰¹å®šç”¨æˆ·æ‰?æœ‰æ–‡æ¡£ç¼“å­˜æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	// æ³¨æ„ï¼?
	//   åœ¨åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯åæœ‰æ•?
	public String userCacheDocBasePath = null;
	// ç”¨æˆ·è®¾ç½®åŸºç¡€è·¯å¾„ï¼Œæ˜¯ç‰¹å®šç”¨æˆ·æ‰?æœ‰è®¾ç½®æ•°æ®çš„æ ¹ç›®å½•ï¼Œå·²æ·»åŠ æœ«å°¾çš„'/'
	// æ³¨æ„ï¼?
	//   ç”±äºä¸šåŠ¡ä¸Šå­˜åœ¨ä¼ä¸šåˆ‡æ¢ï¼Œæ‰?ä»¥ç”¨æˆ·è®¾ç½®åŸºç¡?è·¯å¾„ç”±å•ä½å’Œç”¨æˆ·æ„æˆ
	//   åœ¨åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯åæœ‰æ•?
	public String userConfigBasePath = null;

	// ç¡®è®¤ç›®å½•å­˜åœ¨
	public static void makePath(String path) {
		File file = new File(path);
		if (!file.exists()) {
			file.mkdirs();
		}
	}

	private static LocalPath _instance = null;

	public static LocalPath intance() {
		synchronized (LocalPath.class) {
			if (_instance == null) {
				_instance = new LocalPath();
				_instance.init();
			}
		}
		return _instance;
	}

	protected void init() {
		// åˆå§‹åŒ–åº”ç”¨ç¨‹åºåŸºç¡?è·¯å¾„
		appBasePath = String.format("%s/%s/", Environment.getExternalStorageDirectory().getPath(), APP_BASE_DIR);// /mnt/sdcard
//		appBasePath = String.format("%s/%s/", HomeApplication.getInstance().getCacheDir().getPath(), APP_BASE_DIR);// /data/data/com.yx.prohome/cache
		LocalPath.makePath(appBasePath);
		// åˆå§‹åŒ–æœ¬åœ°ç¼“å­˜åŸºç¡?è·¯å¾„
		cacheBasePath = String.format("%s%s/", appBasePath, CACHE_BASE_DIR);
		LocalPath.makePath(cacheBasePath);
		// åˆå§‹åŒ–æœ¬åœ°ä¸´æ—¶ç¼“å­˜åŸºç¡?è·¯å¾„
		tempCacheBasePath = String.format("%s%s/", cacheBasePath, TEMP_CACHE_BASE_DIR);
		LocalPath.makePath(tempCacheBasePath);
		// åˆå§‹åŒ–æœ¬åœ°è®¾ç½®åŸºç¡?è·¯å¾„
		configBasePath = String.format("%s%s/", appBasePath, CONFIG_BASE_DIR);
		LocalPath.makePath(configBasePath);
		// åˆå§‹åŒ–æœ¬åœ°å…¨å±?è®¾ç½®æ•°æ®åº“æ–‡ä»¶è·¯å¾?
		configDatabaseFilePath = String.format("%s%s", configBasePath, CONFIG_DB_FILE_NAME);
	}

	
}
